<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Smart Money Tracker - Dashboard</title>
  <link rel="stylesheet" href="style.css">
  <script src="theme.js" defer></script>
  <script src="payCycle.js" defer></script>
  <script src="seedAccounts.js" defer></script>
</head>
<body>
  <div class="sidebar">
    <h2>💸 Smart Money</h2>
    <a href="index.html" class="nav-item active">🏠 Dashboard</a>
    <a href="transactions.html" class="nav-item">🧾 Transactions</a>
    <a href="goals.html" class="nav-item">🎯 Goals</a>
    <a href="bills.html" class="nav-item">📑 Bills</a>
    <a href="categories.html" class="nav-item">📊 Categories</a>
    <a href="cashflow.html" class="nav-item">💵 Cashflow</a>
    <a href="accounts.html" class="nav-item">🏦 Accounts</a>
    <a href="recurring.html" class="nav-item">🔁 Recurring</a>
    <a href="settings.html" class="nav-item">⚙️ Settings</a>
  </div>

  <div class="main">
    <h1>Dashboard</h1>

    <div class="tiles">
      <div class="tile">
        <h3>Spendable Now</h3>
        <p id="spendableNow">$0.00</p>
        <button onclick="location.href='cashflow.html'">View All</button>
      </div>

      <div class="tile">
        <h3>Next Paycheck</h3>
        <p id="nextPayDisplay">Loading...</p>
        <button onclick="location.href='accounts.html'">View All</button>
      </div>

      <div class="tile">
        <h3>Recent Transactions</h3>
        <ul id="recentTransactions"></ul>
        <button onclick="location.href='transactions.html'">View All</button>
      </div>

      <div class="tile">
        <h3>Upcoming Bills</h3>
        <ul id="upcomingBills"></ul>
        <button onclick="location.href='bills.html'">View All</button>
      </div>

      <div class="tile">
        <h3>Goals Progress</h3>
        <ul id="goalsProgress"></ul>
        <button onclick="location.href='goals.html'">View All</button>
      </div>
    </div>
  </div>

  <script>
    // Load recent transactions from dummy data
    document.addEventListener("DOMContentLoaded", () => {
      if (window.dummyData) {
        const txList = document.getElementById("recentTransactions");
        txList.innerHTML = window.dummyData.transactions
          .slice(0, 3)
          .map(tx => `<li>${tx.date} - ${tx.description} - $${tx.amount}</li>`)
          .join("");

        const billsList = document.getElementById("upcomingBills");
        billsList.innerHTML = window.dummyData.bills
          .slice(0, 3)
          .map(b => `<li>${b.name} - $${b.amount} due ${b.dueDate}</li>`)
          .join("");

        const goalsList = document.getElementById("goalsProgress");
        goalsList.innerHTML = window.dummyData.goals
          .slice(0, 3)
          .map(g => `<li>${g.name}: $${g.saved}/$${g.target}</li>`)
          .join("");
      }
    });
  </script>
</body>
</html>