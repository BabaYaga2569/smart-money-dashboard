<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Financial Tracker - Black Neon Edition</title>

<!-- Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
  body {
    background: #0b0c0e;
    color: #e7ecf3;
    font-family: system-ui, sans-serif;
    margin: 0;
    padding: 0;
  }
  header {
    background: linear-gradient(90deg, #14161b, #1a1c25);
    padding: 20px;
    border-bottom: 1px solid #1f2937;
    box-shadow: 0 0 20px rgba(124,92,255,0.6);
    display:flex;
    justify-content:space-between;
    align-items:center;
  }
  header h1 { margin:0; font-size: 1.5rem; color:#7c5cff; }
  header .stats { font-size:0.9rem; color:#9aa3b2; }

  .grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); gap:16px; padding:20px; }

  .tile {
    background:#14161b;
    border:1px solid #1f2937;
    border-radius:16px;
    padding:20px;
    box-shadow:0 0 12px rgba(124,92,255,0.4);
    transition: all 0.3s ease;
  }
  .tile:hover { box-shadow:0 0 20px rgba(124,92,255,0.8); }
  .tile h2 { margin-top:0; color:#7c5cff; display:flex; align-items:center; gap:8px; }

  .progress-bar {
    background:#1f2937;
    border-radius:10px;
    overflow:hidden;
    margin:6px 0;
    height:14px;
  }
  .progress-fill {
    height:100%;
    background:linear-gradient(90deg,#7c5cff,#00d7c0);
    width:0;
    transition:width 0.6s ease;
  }
  .btn {
    padding:8px 12px;
    border-radius:8px;
    border:none;
    cursor:pointer;
    font-weight:600;
  }
  .btn-save { background:#7c5cff; color:#fff; margin-left:10px; }
  .btn-settings { background:#1f2937; color:#9aa3b2; margin-left:10px; }
</style>
</head>
<body>

<header>
  <h1><i class="fa-solid fa-coins"></i> Smart Financial Tracker</h1>
  <div class="stats">
    Next Payday: <span id="header-next-payday">--</span> |
    Daily: <span id="header-daily">$--</span>
    <button class="btn btn-save" onclick="saveNow()">üíæ Save Now</button>
    <button class="btn btn-settings" onclick="toggleSettings()">‚öôÔ∏è Settings</button>
  </div>
</header>

<main class="grid">
  <section class="tile">
    <h2><i class="fa-solid fa-wallet"></i> Spendable Now</h2>
    <div id="spendable-now" style="font-size:2rem;">$‚Äî</div>
  </section>

  <section class="tile">
    <h2><i class="fa-solid fa-calendar-day"></i> Daily Budget</h2>
    <div id="daily-budget" style="font-size:1.5rem;">$‚Äî / day</div>
  </section>

  <section class="tile">
    <h2><i class="fa-solid fa-sack-dollar"></i> Upcoming Income</h2>
    <ul id="upcoming-income"></ul>
  </section>

  <section class="tile">
    <h2><i class="fa-solid fa-file-invoice-dollar"></i> Bills Due Before Payday</h2>
    <div id="bills-due"></div>
  </section>

  <section class="tile">
    <h2><i class="fa-solid fa-university"></i> Balances by Bank</h2>
    <ul id="bank-balances"></ul>
  </section>

  <section class="tile">
    <h2><i class="fa-solid fa-chart-pie"></i> Category Tracker</h2>
    <div id="categories"></div>
  </section>

  <section class="tile">
    <h2><i class="fa-solid fa-receipt"></i> Transactions</h2>
    <div id="transactions"></div>
  </section>

  <section class="tile">
    <h2><i class="fa-solid fa-lightbulb"></i> AI Insights</h2>
    <p id="ai-insights">üí° Loading...</p>
  </section>
</main>

<!-- Settings Panel -->
<div id="settings-panel" style="display:none;position:fixed;top:0;right:0;width:400px;height:100%;background:#0f1116;color:#fff;padding:20px;box-shadow:-2px 0 15px rgba(0,0,0,0.6);overflow:auto;z-index:100;">
  <h2><i class="fa-solid fa-gear"></i> Settings</h2>
  <button onclick="toggleSettings()">Close</button>
  <h3>Pay Schedules</h3>
  <pre id="settings-pay"></pre>
  <h3>Bills</h3>
  <pre id="settings-bills"></pre>
  <h3>Categories</h3>
  <pre id="settings-categories"></pre>
  <h3>Banks</h3>
  <pre id="settings-banks"></pre>
  <h3>Backups</h3>
  <div id="backup-list"></div>
</div>

<script>
  // === Data Seeds ===
  const PAY_SCHEDULES = [
    { who:"Steve (SoFi)", frequency:"biweekly", anchor:"2025-08-22", amount:400, target:"SoFi" },
    { who:"Steve (BofA)", frequency:"biweekly", anchor:"2025-08-22", amount:1027.42, target:"BofA" },
    { who:"Tanci (USAA)", frequency:"semimonthly", days:[15,30], amount:1851.04, target:"USAA" }
  ];
  const DEFAULT_BILLS = [
    { name:"Rent (1st Half)", amount:350, cadence:"monthly", day:15, category:"Housing" },
    { name:"Rent (2nd Half)", amount:350, cadence:"monthly", day:30, category:"Housing" },
    { name:"NV Energy", amount:120, cadence:"monthly", day:10, category:"Utilities" },
    { name:"Water", amount:75, cadence:"monthly", day:12, category:"Utilities" },
    { name:"Car Insurance", amount:140, cadence:"monthly", day:18, category:"Insurance" },
    { name:"Property Taxes", amount:400, cadence:"quarterly", day:30, category:"Housing" }
  ];
  const DEFAULT_CATEGORIES = [
    "Housing","Utilities","Insurance","Groceries","Gas for Cars",
    "Subscriptions","Dining/Entertainment","Shopping","Health/Medical",
    "Home/Garden","Income/Paycheck","Transfer Between Banks","Cash Withdrawal",
    "Investment/Savings","Bills/Other","Fees","Refund/Credit"
  ];
  const BANKS = ["BofA","SoFi","USAA","CapOne"];

  // === Backup System ===
  function saveNow(){
    const snapshot = {
      time:new Date().toLocaleString(),
      pays:PAY_SCHEDULES,
      bills:DEFAULT_BILLS,
      categories:DEFAULT_CATEGORIES,
      banks:BANKS
    };
    let backups = JSON.parse(localStorage.getItem("smd_backups")||"[]");
    backups.unshift(snapshot);
    if(backups.length>10) backups=backups.slice(0,10);
    localStorage.setItem("smd_backups",JSON.stringify(backups));
    alert("Backup saved!");
    renderBackups();
  }
  function renderBackups(){
    let backups = JSON.parse(localStorage.getItem("smd_backups")||"[]");
    document.getElementById("backup-list").innerHTML = backups.map(b=>`<div>${b.time} <button onclick='restoreBackup("${b.time}")'>Restore</button></div>`).join("");
  }
  function restoreBackup(time){
    let backups = JSON.parse(localStorage.getItem("smd_backups")||"[]");
    let b = backups.find(x=>x.time===time);
    if(b){
      alert("Restored "+time);
    }
  }

  // === Settings Panel ===
  function toggleSettings(){
    const el=document.getElementById("settings-panel");
    el.style.display=(el.style.display==="none")?"block":"none";
    if(el.style.display==="block"){
      document.getElementById("settings-pay").textContent=JSON.stringify(PAY_SCHEDULES,null,2);
      document.getElementById("settings-bills").textContent=JSON.stringify(DEFAULT_BILLS,null,2);
      document.getElementById("settings-categories").textContent=JSON.stringify(DEFAULT_CATEGORIES,null,2);
      document.getElementById("settings-banks").textContent=JSON.stringify(BANKS,null,2);
      renderBackups();
    }
  }

  // === Demo Render ===
  document.getElementById("upcoming-income").innerHTML = PAY_SCHEDULES.map(p=>`<li>${p.who}: $${p.amount}</li>`).join("");
  document.getElementById("bills-due").innerHTML = DEFAULT_BILLS.map(b=>`<div>${b.name}: $${b.amount}</div>`).join("");
  document.getElementById("categories").innerHTML = DEFAULT_CATEGORIES.map(c=>`<div>${c}<div class='progress-bar'><div class='progress-fill' style='width:${Math.random()*100}%'></div></div></div>`).join("");
  document.getElementById("bank-balances").innerHTML = BANKS.map(b=>`<li>${b}: $--</li>`).join("");
</script>

</body>
</html>
