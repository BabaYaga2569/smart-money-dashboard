<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Smart Money Cockpit</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { background:#0b0e14; color:#e6e6e6; font-family:sans-serif; margin:0; display:flex; }
    .main { flex:1; padding:20px; display:flex; flex-direction:column; gap:20px; }
    .tile { background:#161b25; border-radius:15px; padding:20px; box-shadow:0 0 15px rgba(57,255,20,0.2); }
    .tile h3 { margin:0 0 15px 0; color:#39ff14; text-shadow:0 0 5px #39ff14; }
    .highlight { font-size:24px; font-weight:bold; color:#39ff14; text-shadow:0 0 10px #39ff14, 0 0 15px #9d00ff; }
    .due-today { color:#ff4d4d; font-weight:bold; text-shadow:0 0 10px #ff4d4d; }
  </style>
</head>
<body>
  <div class="main">
    <div class="tile">
      <h3>Monthly Income + Payday Countdown</h3>
      <div class="highlight" id="income">$0.00</div>
      <div id="payday-info">Next payday in <span class="due-today" id="payday-countdown">-- days</span></div>
    </div>
  </div>
  <script>
    const paydays = [new Date('2025-01-10'),new Date('2025-01-24'),new Date('2025-02-07'),new Date('2025-02-21'),new Date('2025-03-07'),new Date('2025-03-21'),new Date('2025-04-04'),new Date('2025-04-18'),new Date('2025-05-02'),new Date('2025-05-16'),new Date('2025-05-30'),new Date('2025-06-13'),new Date('2025-06-27'),new Date('2025-07-11'),new Date('2025-07-25'),new Date('2025-08-08'),new Date('2025-08-22'),new Date('2025-09-05'),new Date('2025-09-19'),new Date('2025-10-03'),new Date('2025-10-17'),new Date('2025-10-31'),new Date('2025-11-14'),new Date('2025-11-28'),new Date('2025-12-12'),new Date('2025-12-26')];

    function calculatePaydayCountdown() {
      const today = new Date();
      today.setHours(0,0,0,0);

      let nextPayday = null;
      for (let pd of paydays) {
        if (pd >= today) { nextPayday = pd; break; }
      }

      if (!nextPayday) return;

      let sofi = new Date(nextPayday);
      sofi.setDate(nextPayday.getDate() - 2); // Wednesday before payday

      let label, soonest;
      if (today.getTime() === sofi.getTime()) {
        label = "SoFi Early Deposit (Today)";
        soonest = sofi;
      } else if (today.getTime() === nextPayday.getTime()) {
        label = "BofA Payday (Today)";
        soonest = nextPayday;
      } else if (today < sofi) {
        label = "SoFi Early Deposit";
        soonest = sofi;
      } else {
        label = "BofA Payday";
        soonest = nextPayday;
      }

      const diffDays = Math.ceil((soonest - today) / (1000*60*60*24));
      document.getElementById('payday-countdown').innerText = diffDays + " days";
      document.getElementById('payday-info').innerHTML = `Next payday: ${label} in <span class="due-today">${diffDays} days</span>`;
    }

    function calculateMonthlyIncome() {
      const today = new Date();
      const month = today.getMonth();
      const year = today.getFullYear();
      const thisMonth = paydays.filter(pd => pd.getMonth()===month && pd.getFullYear()===year);
      const netPerPay = 1883.81;
      const monthlyIncome = thisMonth.length * netPerPay;
      document.getElementById('income').innerText = `$${monthlyIncome.toLocaleString()}`;
    }

    (function init(){
      calculatePaydayCountdown();
      calculateMonthlyIncome();
    })();
  </script>
</body>
</html>