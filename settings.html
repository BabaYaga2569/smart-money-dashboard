<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Smart Money Tracker - Settings</title>
  <link rel="stylesheet" href="style.css" />
  <script defer src="themes.js"></script>
</head>
<body>
  <!-- Sidebar -->
  <div class="sidebar">
    <h2>ðŸ’° Tracker</h2>
    <a href="index.html">Dashboard</a>
    <a href="transactions.html">Transactions</a>
    <a href="accounts.html">Accounts</a>
    <a href="bills.html">Bills</a>
    <a href="recurring.html">Recurring</a>
    <a href="categories.html">Categories</a>
    <a href="cashflow.html">Cash Flow</a>
    <a href="goals.html">Goals</a>
    <a href="paycycle.html">Pay Cycle</a>
    <a href="spendability.html">Spendability</a>
    <a href="settings.html" class="active">Settings</a>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <h1>Settings</h1>

    <!-- Theme Presets -->
    <div class="card">
      <h2>Theme Presets</h2>
      <select id="theme-presets">
        <option value="">Select a preset</option>
        <option value="dark">Dark</option>
        <option value="light">Light</option>
        <option value="blue">Blue</option>
        <option value="purple">Purple</option>
        <option value="orange">Orange</option>
        <option value="teal">Teal</option>
        <option value="red">Red</option>
        <option value="gray">Gray</option>
      </select>
      <button id="apply-preset">Apply Preset</button>
    </div>

    <!-- Custom Color Picker -->
    <div class="card">
      <h2>Custom Accent Color</h2>
      <input type="color" id="accent-color" />
      <button id="apply-color">Apply Color</button>
    </div>

    <!-- Save / Reset -->
    <div class="card">
      <h2>Preferences</h2>
      <button id="save-settings">Save Settings</button>
      <button id="reset-settings">Reset to Default</button>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const presets = {
        dark: { "--bg-color": "#0b0e14", "--text-color": "#f0f0f0", "--accent-color": "#39ff14" },
        light: { "--bg-color": "#f9f9f9", "--text-color": "#222", "--accent-color": "#0077cc" },
        blue: { "--bg-color": "#1e2a38", "--text-color": "#f0f8ff", "--accent-color": "#3399ff" },
        purple: { "--bg-color": "#1d132d", "--text-color": "#eee", "--accent-color": "#9b59b6" },
        orange: { "--bg-color": "#2c1a0b", "--text-color": "#fdf6e3", "--accent-color": "#e67e22" },
        teal: { "--bg-color": "#0d2f2f", "--text-color": "#ecfdf5", "--accent-color": "#20c997" },
        red: { "--bg-color": "#2d0b0b", "--text-color": "#ffeaea", "--accent-color": "#e74c3c" },
        gray: { "--bg-color": "#1c1c1c", "--text-color": "#e0e0e0", "--accent-color": "#95a5a6" }
      };

      const root = document.documentElement;

      function applyTheme(theme) {
        for (const [key, value] of Object.entries(theme)) {
          root.style.setProperty(key, value);
        }
        localStorage.setItem("theme", JSON.stringify(theme));
      }

      // Load saved settings
      const saved = localStorage.getItem("theme");
      if (saved) applyTheme(JSON.parse(saved));

      document.getElementById("apply-preset").addEventListener("click", () => {
        const selected = document.getElementById("theme-presets").value;
        if (selected && presets[selected]) {
          applyTheme(presets[selected]);
        }
      });

      document.getElementById("apply-color").addEventListener("click", () => {
        const color = document.getElementById("accent-color").value;
        root.style.setProperty("--accent-color", color);
        const current = JSON.parse(localStorage.getItem("theme")) || {};
        current["--accent-color"] = color;
        localStorage.setItem("theme", JSON.stringify(current));
      });

      document.getElementById("save-settings").addEventListener("click", () => {
        alert("âœ… Settings saved! Theyâ€™ll load automatically next time.");
      });

      document.getElementById("reset-settings").addEventListener("click", () => {
        localStorage.removeItem("theme");
        location.reload();
      });
    });
  </script>
</body>
</html>
